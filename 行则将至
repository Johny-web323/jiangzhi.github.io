<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤é£æ–‡ç« åˆ†äº«</title>
    <style>
        @font-face {
            font-family: 'Xiaozhuan';
            src: url('https://fonts.gstatic.com/s/simkai/v10/7Au-p_0qiz-afTzGLQ.woff2');
        }

        @font-face {
            font-family: 'Xingkai';
            src: url('https://fonts.gstatic.com/s/maobi/v14/7Au-p_0qiz-afTzGLQ.woff2'); /* æ›¿æ¢ä¸ºè¡Œæ¥·å­—ä½“URL */
        }

        body {
            font-family: SimSun, sans-serif;
            font-size: 14px;
            margin: 0;
            padding: 0;
            background-image: url('https://your-background-pattern-url.jpg');
            background-repeat: repeat;
            position: relative;
        }

        /* æ˜Ÿæ˜Ÿé—ªåŠ¨æ•ˆæœ */
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }

        @keyframes twinkle {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0.2;
            }
            100% {
                opacity: 1;
            }
        }

        header {
            background-color: skyblue;
            color: white;
            text-align: center;
            padding: 1em;
            font-family: 'Xiaozhuan', SimSun, sans-serif;
            border: 20px solid transparent;
            border-image: url('https://your-border-pattern-url.jpg') 30 round;
        }

        header h1 {
            font-size: 72px; /* æ ‡é¢˜å­—å·æ”¹ä¸º72px */
            font-weight: bold; /* åŠ ç²— */
            margin: 0; /* å»æ‰é»˜è®¤çš„å¤–è¾¹è· */
        }

        /* æ–°å¢ç«–æ’å¯¹ç§°æ–‡æœ¬æ ·å¼ */
        .vertical-text {
            position: absolute;
            top: 20px; /* å¾€ä¸Šç§»åŠ¨ä¸€äº› */
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* é ä¸Šå¯¹é½ */
            align-items: center;
            font-family: 'Xingkai', cursive;
            font-size: 72px; /* è°ƒæ•´å­—å·ä¸º72px */
            writing-mode: vertical-rl; /* ç«–æ’æ–‡å­— */
            text-orientation: upright; /* æ–‡å­—æ–¹å‘ä¸ºæ­£ */
            pointer-events: none; /* é˜²æ­¢å¹²æ‰°ç‚¹å‡» */
            line-height: 22pt; /* è®¾ç½®é—´è·ä¸º22ç£… */
        }

        .vertical-text.left {
            left: 20px; /* å·¦ä¾§ç«–æ’å­—å¾€å³é è¿‘ç¼–è¾‘æ¡† */
        }

        .vertical-text.right {
            right: 20px; /* å³ä¾§ç«–æ’å­—å¾€å·¦é è¿‘ç¼–è¾‘æ¡† */
        }

        main {
            padding: 2em;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative; /* ç¡®ä¿ç«–æ’æ–‡æœ¬ç›¸å¯¹mainå®šä½ */
        }

        .column {
            margin-bottom: 2em;
            border: 1px solid #ccc;
            padding: 1em;
            background-color: #fffaf0;
            background-image: url('https://www.transparenttextures.com/patterns/light-wool.png');
            background-repeat: repeat;
            width: 80%;
            box-sizing: border-box;
            position: relative;
        }

        /* ä½œä¸ºè£…é¥°å…ƒç´  */
        .column::before {
            content: url('https://your-decoration-pattern-url.png');
            position: absolute;
            top: -10px;
            left: -10px;
            width: 30px;
            height: 30px;
        }

        .column h2 {
            margin-top: 0;
        }

        /* è°ƒæ•´è¾“å…¥æ¡†å’ŒæŒ‰é’®çš„é«˜åº¦ */
        .editor-controls {
            display: flex;
            align-items: center;
            gap: 10px; /* æ§åˆ¶å…ƒç´ ä¹‹é—´çš„é—´è· */
            margin-bottom: 10px;
        }

        .editor-controls input[type="text"],
        .editor-controls select,
        .editor-controls input[type="color"],
        .editor-controls button {
            height: 40px; /* ç»Ÿä¸€é«˜åº¦ */
            box-sizing: border-box;
            font-size: 16px; /* ç¡®ä¿æ–‡å­—æ¸…æ™°å¯è§ */
        }

        .editor-controls button {
            padding: 0 10px; /* æŒ‰é’®å†…è¾¹è· */
        }

        .editor {
            width: 100%;
            min-height: 100px;
            margin-bottom: 10px;
            background-color: #fffaf0;
            background-image: url('https://www.transparenttextures.com/patterns/light-wool.png');
            background-repeat: repeat;
            border: 1px solid #ccc;
            padding: 5px;
            outline: none;
            line-height: 1.25;
            font-size: 16px; /* ç¡®ä¿æ–‡å­—æ¸…æ™°å¯è§ */
        }

        .article {
            border: 1px solid #eee;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #fffaf0;
            background-image: url('https://www.transparenttextures.com/patterns/light-wool.png');
            background-repeat: repeat;
            line-height: 1.25;
        }

        .article h3 {
            cursor: pointer;
        }

        .article-content {
            display: block;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            body {
                background-size: contain;
            }

            .vertical-text {
                font-size: 48px; /* åœ¨å°å±å¹•ä¸Šå‡å°å­—å· */
            }

            .editor-controls {
                flex-wrap: wrap; /* å°å±å¹•ä¸Šæ¢è¡Œ */
            }

            header h1 {
                font-size: 48px; /* å°å±å¹•ä¸Šæ ‡é¢˜å­—å·å‡å° */
            }
        }

        /* è‡ªå®šä¹‰åŠ ç²—å’Œä¸‹åˆ’çº¿æ ·å¼ */
        .custom-bold {
            background-color: white;
            border: 1px solid black;
            color: black;
        }

        .custom-underline {
            background-color: white;
            border: 1px solid black;
            color: black;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <!-- éšæœºç”Ÿæˆæ˜Ÿæ˜Ÿ -->
    <script>
        for (let i = 0; i < 50; i++) {
            const star = document.createElement('div');
            star.classList.add('star');
            star.style.left = Math.random() * window.innerWidth + 'px';
            star.style.top = Math.random() * window.innerHeight + 'px';
            document.body.appendChild(star);
        }
    </script>
    <header>
        <h1>é“é˜»ä¸”é•¿ è¡Œåˆ™å°†è‡³</h1>
    </header>
    <main>
        <!-- æ–°å¢ç«–æ’å¯¹ç§°æ–‡æœ¬ -->
        <div class="vertical-text left">å¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢</div>
        <div class="vertical-text right">è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®</div>

        <div class="column">
            <h2>æ•™å­¦éšç¬”</h2>
            <div class="editor-controls">
                <input type="text" id="teachingEssayTitle" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜">
                <select id="teachingEssayFont" onchange="changeFont('teachingEssay')">
                    <option value="SimSun">å®‹ä½“</option>
                    <option value="Microsoft YaHei">å¾®è½¯é›…é»‘</option>
                    <option value="SimHei">é»‘ä½“</option>
                    <option value="KaiTi">æ¥·ä½“</option>
                </select>
                <select id="teachingEssayFontSize" onchange="changeFontSizeSelect('teachingEssay')">
                    <option value="12px">12px</option>
                    <option value="14px" selected>14px</option>
                    <option value="16px">16px</option>
                    <option value="18px">18px</option>
                    <option value="20px">20px</option>
                </select>
                <input type="color" id="teachingEssayColor" onchange="changeTextColor('teachingEssay')">
                <button onclick="toggleBold('teachingEssay')">B</button>
                <button onclick="toggleUnderline('teachingEssay')">UÌ²</button>
                <button class="insert-image-button" onclick="insertImage('teachingEssay')">ğŸ–¼ï¸</button>
            </div>
            <div class="editor" id="teachingEssay" contenteditable="true"></div>
            <button onclick="saveContent('teachingEssay')">ä¿å­˜</button>
            <div id="teachingEssayDisplay"></div>
        </div>
        <div class="column">
            <h2>é˜…è¯»æ„Ÿæ‚Ÿ</h2>
            <div class="editor-controls">
                <input type="text" id="readingInsightTitle" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜">
                <select id="readingInsightFont" onchange="changeFont('readingInsight')">
                    <option value="SimSun">å®‹ä½“</option>
                    <option value="Microsoft YaHei">å¾®è½¯é›…é»‘</option>
                    <option value="SimHei">é»‘ä½“</option>
                    <option value="KaiTi">æ¥·ä½“</option>
                </select>
                <select id="readingInsightFontSize" onchange="changeFontSizeSelect('readingInsight')">
                    <option value="12px">12px</option>
                    <option value="14px" selected>14px</option>
                    <option value="16px">16px</option>
                    <option value="18px">18px</option>
                    <option value="20px">20px</option>
                </select>
                <input type="color" id="readingInsightColor" onchange="changeTextColor('readingInsight')">
                <button onclick="toggleBold('readingInsight')">B</button>
                <button onclick="toggleUnderline('readingInsight')">UÌ²</button>
                <button class="insert-image-button" onclick="insertImage('readingInsight')">ğŸ–¼ï¸</button>
            </div>
            <div class="editor" id="readingInsight" contenteditable="true"></div>
            <button onclick="saveContent('readingInsight')">ä¿å­˜</button>
            <div id="readingInsightDisplay"></div>
        </div>
        <div class="column">
            <h2>å­¦ç”Ÿæ–‡ç« </h2>
            <div class="editor-controls">
                <input type="text" id="studentArticleTitle" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜">
                <select id="studentArticleFont" onchange="changeFont('studentArticle')">
                    <option value="SimSun">å®‹ä½“</option>
                    <option value="Microsoft YaHei">å¾®è½¯é›…é»‘</option>
                    <option value="SimHei">é»‘ä½“</option>
                    <option value="KaiTi">æ¥·ä½“</option>
                </select>
                <select id="studentArticleFontSize" onchange="changeFontSizeSelect('studentArticle')">
                    <option value="12px">12px</option>
                    <option value="14px" selected>14px</option>
                    <option value="16px">16px</option>
                    <option value="18px">18px</option>
                    <option value="20px">20px</option>
                </select>
                <input type="color" id="studentArticleColor" onchange="changeTextColor('studentArticle')">
                <button onclick="toggleBold('studentArticle')">B</button>
                <button onclick="toggleUnderline('studentArticle')">UÌ²</button>
                <button class="insert-image-button" onclick="insertImage('studentArticle')">ğŸ–¼ï¸</button>
            </div>
            <div class="editor" id="studentArticle" contenteditable="true"></div>
            <button onclick="saveContent('studentArticle')">ä¿å­˜</button>
            <div id="studentArticleDisplay"></div>
        </div>
    </main>
    <script>
        function saveContent(id) {
            const editor = document.getElementById(id);
            const titleInput = document.getElementById(id + 'Title');
            const title = titleInput.value;
            const display = document.getElementById(id + 'Display');
            const article = createArticle(title, editor.innerHTML, id);

            display.appendChild(article);
            editor.innerHTML = '';
            titleInput.value = '';

            // ä¿å­˜æ–‡ç« åˆ°æœ¬åœ°å­˜å‚¨
            saveToLocalStorage(id, title, editor.innerHTML);
        }

        function createArticle(title, content, id) {
            const article = document.createElement('div');
            article.classList.add('article');
            if (title) {
                const titleElement = document.createElement('h3');
                titleElement.textContent = title;
                titleElement.addEventListener('click', function () {
                    const content = this.nextElementSibling;
                    content.style.display = content.style.display === 'none'? 'block' : 'none';
                });
                article.appendChild(titleElement);
            }
            const contentElement = document.createElement('div');
            contentElement.classList.add('article-content');
            contentElement.innerHTML = content;
            article.appendChild(contentElement);

            const editButton = document.createElement('button');
            editButton.textContent = 'ä¿®æ”¹';
            const editor = document.getElementById(id);
            const titleInput = document.getElementById(id + 'Title');
            editButton.onclick = function () {
                editContent(article, editor, titleInput);
            };
            article.appendChild(editButton);

            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'åˆ é™¤';
            deleteButton.onclick = function () {
                deleteArticle(article, id);
            };
            article.appendChild(deleteButton);

            return article;
        }

        function editContent(article, editor, titleInput) {
            const titleElement = article.querySelector('h3');
            const title = titleElement? titleElement.textContent : '';
            const contentElement = article.querySelector('.article-content');
            editor.innerHTML = contentElement.innerHTML;
            titleInput.value = title;
            article.remove();

            // æ›´æ–°æœ¬åœ°å­˜å‚¨
            updateLocalStorage(editor.id, title, contentElement.innerHTML);
        }

        function deleteArticle(article, id) {
            const titleElement = article.querySelector('h3');
            const title = titleElement? titleElement.textContent : '';
            const contentElement = article.querySelector('.article-content');
            const content = contentElement.innerHTML;

            // ä»æœ¬åœ°å­˜å‚¨ä¸­åˆ é™¤æ–‡ç« 
            const savedArticles = JSON.parse(localStorage.getItem('articles')) || {};
            if (savedArticles[id]) {
                const index = savedArticles[id].findIndex(item => item.title === title && item.content === content);
                if (index!== -1) {
                    savedArticles[id].splice(index, 1);
                    localStorage.setItem('articles', JSON.stringify(savedArticles));
                }
            }

            // ä»é¡µé¢ä¸­åˆ é™¤æ–‡ç« 
            article.remove();
        }

        function toggleBold(id) {
            const editor = document.getElementById(id);
            const selection = document.getSelection();
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                const span = document.createElement('span');
                span.classList.add('custom-bold');
                range.surroundContents(span);
            }
        }

        function toggleUnderline(id) {
            const editor = document.getElementById(id);
            const selection = document.getSelection();
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                const span = document.createElement('span');
                span.classList.add('custom-underline');
                range.surroundContents(span);
            }
        }

        function insertImage(id) {
            const editor = document.getElementById(id);
            const imageUrl = prompt('è¯·è¾“å…¥å›¾ç‰‡çš„ URLï¼š');
            if (imageUrl) {
                const img = document.createElement('img');
                img.src = imageUrl;
                img.style.maxWidth = '100%';
                editor.appendChild(img);
            }
        }

        function changeFont(id) {
            const select = document.getElementById(id + 'Font');
            const editor = document.getElementById(id);
            const display = document.getElementById(id + 'Display');
            const selectedFont = select.value;
            setStyleForEditorAndArticles(editor, display, 'fontFamily', selectedFont);
        }

        function changeFontSizeSelect(id) {
            const select = document.getElementById(id + 'FontSize');
            const editor = document.getElementById(id);
            const display = document.getElementById(id + 'Display');
            const selectedFontSize = select.value;
            setStyleForEditorAndArticles(editor, display, 'fontSize', selectedFontSize);
        }

        function changeTextColor(id) {
            const colorPicker = document.getElementById(id + 'Color');
            const editor = document.getElementById(id);
            const selectedColor = colorPicker.value;
            const selection = document.getSelection();
            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                const span = document.createElement('span');
                span.style.color = selectedColor;
                range.surroundContents(span);
            }
        }

        function setStyleForEditorAndArticles(editor, display, styleProperty, value) {
            editor.style[styleProperty] = value;
            const articles = display.getElementsByClassName('article');
            for (let i = 0; i < articles.length; i++) {
                articles[i].style[styleProperty] = value;
            }
        }

        function saveToLocalStorage(id, title, content) {
            const savedArticles = JSON.parse(localStorage.getItem('articles')) || {};
            savedArticles[id] = savedArticles[id] || [];
            savedArticles[id].push({
                title: title,
                content: content
            });
            localStorage.setItem('articles', JSON.stringify(savedArticles));
        }

        function updateLocalStorage(id, title, content) {
            const savedArticles = JSON.parse(localStorage.getItem('articles')) || {};
            if (savedArticles[id]) {
                const index = savedArticles[id].findIndex(item => item.title === title && item.content === content);
                if (index!== -1) {
                    savedArticles[id].splice(index, 1);
                }
                savedArticles[id].push({
                    title: title,
                    content: content
                });
                localStorage.setItem('articles', JSON.stringify(savedArticles));
            }
        }

        // é¡µé¢åŠ è½½æ—¶ä»æœ¬åœ°å­˜å‚¨ä¸­æ¢å¤æ–‡ç« 
        window.onload = function () {
            const savedArticles = JSON.parse(localStorage.getItem('articles')) || {};
            for (const id in savedArticles) {
                const display = document.getElementById(id + 'Display');
                savedArticles[id].forEach(article => {
                    const articleElement = createArticle(article.title, article.content, id);
                    display.appendChild(articleElement);
                });
            }
        };
    </script>
</body>

</html>
