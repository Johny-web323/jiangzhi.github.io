<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤é£æ–‡ç« åˆ†äº«</title>
    <style>
        @font-face {
            font-family: 'Xiaozhuan';
            src: url('https://fonts.gstatic.com/s/simkai/v10/7Au-p_0qiz-afTzGLQ.woff2');
        }

        @font-face {
            font-family: 'Xingkai';
            src: url('https://fonts.gstatic.com/s/maobi/v14/7Au-p_0qiz-afTzGLQ.woff2'); /* æ›¿æ¢ä¸ºè¡Œæ¥·å­—ä½“URL */
        }

        @font-face {
            font-family: 'Lishu';
            src: url('https://your-lishu-font-url.woff2'); /* æ›¿æ¢ä¸ºéš¶ä¹¦å­—ä½“URL */
        }

        @font-face {
            font-family: 'Caoshu';
            src: url('https://your-caoshu-font-url.woff2'); /* æ›¿æ¢ä¸ºè‰ä¹¦å­—ä½“URL */
        }

        body {
            font-family: SimSun, sans-serif;
            font-size: 14px;
            margin: 0;
            padding: 0;
            background-image: url('https://your-background-pattern-url.jpg');
            background-repeat: repeat;
            position: relative;
        }

        /* æ˜Ÿæ˜Ÿé—ªåŠ¨æ•ˆæœ */
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }

        @keyframes twinkle {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0.2;
            }
            100% {
                opacity: 1;
            }
        }

        header {
            background-color: skyblue;
            color: black; /* æ ‡é¢˜å­—ä½“é¢œè‰²æ”¹ä¸ºé»‘è‰² */
            text-align: center;
            padding: 1em;
            font-family: 'Lishu', sans-serif; /* ä¿®æ”¹ä¸ºéš¶ä¹¦ */
            border: 20px solid transparent;
            border-image: url('https://your-border-pattern-url.jpg') 30 round;
            position: relative; /* ç›¸å¯¹å®šä½ */
        }

        header h1 {
            font-size: 72px; /* æ ‡é¢˜å­—å·æ”¹ä¸º72px */
            font-weight: bold; /* åŠ ç²— */
            margin: 0; /* å»æ‰é»˜è®¤çš„å¤–è¾¹è· */
        }

        /* èº«ä»½é€‰æ‹©æ¡† */
        .user-role {
            position: absolute;
            bottom: 10px; /* è´´è¿‘ä¸‹è¾¹ */
            right: 10px; /* è´´è¿‘å³è¾¹ */
            font-size: 24px; /* è°ƒæ•´å­—ä½“å¤§å° */
            display: flex;
            align-items: center;
            gap: 10px; /* è¡¨æƒ…å’Œé€‰æ‹©æ¡†ä¹‹é—´çš„é—´è· */
        }

        .user-role select {
            padding: 5px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: white;
        }

        /* æ–°å¢ç«–æ’å¯¹ç§°æ–‡æœ¬æ ·å¼ */
        .vertical-text {
            position: absolute;
            top: 20px; /* å¾€ä¸Šç§»åŠ¨ä¸€äº› */
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* é ä¸Šå¯¹é½ */
            align-items: center;
            font-family: 'Xingkai', cursive;
            font-size: 72px; /* è°ƒæ•´å­—å·ä¸º72px */
            writing-mode: vertical-rl; /* ç«–æ’æ–‡å­— */
            text-orientation: upright; /* æ–‡å­—æ–¹å‘ä¸ºæ­£ */
            pointer-events: none; /* é˜²æ­¢å¹²æ‰°ç‚¹å‡» */
            line-height: 22pt; /* è®¾ç½®é—´è·ä¸º22ç£… */
        }

        .vertical-text.left {
            left: 20px; /* å·¦ä¾§ç«–æ’å­—å¾€å³é è¿‘ç¼–è¾‘æ¡† */
        }

        .vertical-text.right {
            right: 20px; /* å³ä¾§ç«–æ’å­—å¾€å·¦é è¿‘ç¼–è¾‘æ¡† */
        }

        main {
            padding: 2em;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative; /* ç¡®ä¿ç«–æ’æ–‡æœ¬ç›¸å¯¹mainå®šä½ */
        }

        .column {
            margin-bottom: 2em;
            border: 1px solid #ccc;
            padding: 1em;
            background-color: #fffaf0;
            background-image: url('https://www.transparenttextures.com/patterns/light-wool.png');
            background-repeat: repeat;
            width: 80%;
            box-sizing: border-box;
            position: relative;
        }

        /* ä½œä¸ºè£…é¥°å…ƒç´  */
        .column::before {
            content: url('https://your-decoration-pattern-url.png');
            position: absolute;
            top: -10px;
            left: -10px;
            width: 30px;
            height: 30px;
        }

        .column h2 {
            margin-top: 0;
        }

        /* è°ƒæ•´è¾“å…¥æ¡†å’ŒæŒ‰é’®çš„é«˜åº¦ */
        .editor-controls {
            display: flex;
            align-items: center;
            gap: 10px; /* æ§åˆ¶å…ƒç´ ä¹‹é—´çš„é—´è· */
            margin-bottom: 10px;
        }

        .editor-controls input[type="text"],
        .editor-controls select,
        .editor-controls input[type="color"],
        .editor-controls button {
            height: 40px; /* ç»Ÿä¸€é«˜åº¦ */
            box-sizing: border-box;
            font-size: 16px; /* ç¡®ä¿æ–‡å­—æ¸…æ™°å¯è§ */
        }

        .editor-controls button {
            padding: 0 10px; /* æŒ‰é’®å†…è¾¹è· */
        }

        .editor {
            width: 100%;
            min-height: 100px;
            margin-bottom: 10px;
            background-color: #fffaf0;
            background-image: url('https://www.transparenttextures.com/patterns/light-wool.png');
            background-repeat: repeat;
            border: 1px solid #ccc;
            padding: 5px;
            outline: none;
            line-height: 1.25;
            font-size: 16px; /* ç¡®ä¿æ–‡å­—æ¸…æ™°å¯è§ */
        }

        .article {
            border: 1px solid #eee;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #fffaf0;
            background-image: url('https://www.transparenttextures.com/patterns/light-wool.png');
            background-repeat: repeat;
            line-height: 1.25;
        }

        .article h3 {
            cursor: pointer;
        }

        .article-content {
            display: block;
        }

        /* è¯„è®ºåŒºåŸŸæ ·å¼ */
        .comments {
            margin-top: 10px;
            padding: 10px;
            border-top: 1px solid #eee;
        }

        .comment-input {
            width: 100%;
            margin-bottom: 10px;
            padding: 5px;
            font-size: 14px;
        }

        .comment-list {
            margin-top: 10px;
        }

        .comment-item {
            margin-bottom: 5px;
            padding: 5px;
            background-color: #f9f9f9;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .comment-item button {
            margin-left: 10px;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            body {
                background-size: contain;
            }

            .vertical-text {
                font-size: 48px; /* åœ¨å°å±å¹•ä¸Šå‡å°å­—å· */
            }

            .editor-controls {
                flex-wrap: wrap; /* å°å±å¹•ä¸Šæ¢è¡Œ */
            }

            header h1 {
                font-size: 48px; /* å°å±å¹•ä¸Šæ ‡é¢˜å­—å·å‡å° */
            }
        }

        /* è‡ªå®šä¹‰åŠ ç²—å’Œä¸‹åˆ’çº¿æ ·å¼ */
        .custom-bold {
            background-color: white;
            border: 1px solid black;
            color: black;
        }

        .custom-underline {
            background-color: white;
            border: 1px solid black;
            color: black;
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <!-- éšæœºç”Ÿæˆæ˜Ÿæ˜Ÿ -->
    <script>
        for (let i = 0; i < 50; i++) {
            const star = document.createElement('div');
            star.classList.add('star');
            star.style.left = Math.random() * window.innerWidth + 'px';
            star.style.top = Math.random() * window.innerHeight + 'px';
            document.body.appendChild(star);
        }
    </script>
    <header>
        <h1>é“é˜»ä¸”é•¿     è¡Œåˆ™å°†è‡³</h1> <!-- ä¿®æ”¹æ ‡é¢˜ -->
        <!-- èº«ä»½é€‰æ‹©æ¡† -->
        <div class="user-role">
            <span id="roleEmoji">ğŸ‘¤</span> <!-- é»˜è®¤æ˜¾ç¤ºæ¸¸å®¢è¡¨æƒ… -->
            <select id="userRole" onchange="changeUserRole()">
                <option value="guest">ğŸ‘¤ æ¸¸å®¢</option>
                <option value="admin">ğŸ‘‘ ç®¡ç†å‘˜</option>
            </select>
        </div>
    </header>
    <main>
        <!-- æ–°å¢ç«–æ’å¯¹ç§°æ–‡æœ¬ -->
        <div class="vertical-text left">å¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢</div>
        <div class="vertical-text right">è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®</div>

        <div class="column">
            <h2>æ•™å­¦éšç¬”</h2>
            <div class="editor-controls">
                <input type="text" id="teachingEssayTitle" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜">
                <input type="text" id="teachingEssayAuthor" placeholder="è¯·è¾“å…¥æœ¬æ–‡ä½œè€…"> <!-- æ–°å¢ä½œè€…è¾“å…¥æ¡† -->
                <select id="teachingEssayFont" onchange="changeFont('teachingEssay')">
                    <option value="SimSun">å®‹ä½“</option>
                    <option value="Microsoft YaHei">å¾®è½¯é›…é»‘</option>
                    <option value="SimHei">é»‘ä½“</option>
                    <option value="KaiTi">æ¥·ä½“</option>
                    <option value="Lishu">éš¶ä¹¦</option>
                    <option value="Caoshu">è‰ä¹¦</option>
                </select>
                <select id="teachingEssayFontSize" onchange="changeFontSizeSelect('teachingEssay')">
                    <option value="12px">12px</option>
                    <option value="14px" selected>14px</option>
                    <option value="16px">16px</option>
                    <option value="18px">18px</option>
                    <option value="20px">20px</option>
                </select>
                <input type="color" id="teachingEssayColor" onchange="changeTextColor('teachingEssay')">
                <button onclick="toggleBold('teachingEssay')">B</button>
                <button onclick="toggleUnderline('teachingEssay')">UÌ²</button>
            </div>
            <div class="editor" id="teachingEssay" contenteditable="true"></div>
            <button onclick="saveContent('teachingEssay')">ä¿å­˜</button>
            <button onclick="hideArticle('teachingEssay')">éšè—æ–‡ç« </button>
            <div id="teachingEssayDisplay"></div>
        </div>

        <div class="column">
            <h2>é˜…è¯»æ„Ÿæ‚Ÿ</h2>
            <div class="editor-controls">
                <input type="text" id="readingInsightTitle" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜">
                <input type="text" id="readingInsightAuthor" placeholder="è¯·è¾“å…¥æœ¬æ–‡ä½œè€…"> <!-- æ–°å¢ä½œè€…è¾“å…¥æ¡† -->
                <select id="readingInsightFont" onchange="changeFont('readingInsight')">
                    <option value="SimSun">å®‹ä½“</option>
                    <option value="Microsoft YaHei">å¾®è½¯é›…é»‘</option>
                    <option value="SimHei">é»‘ä½“</option>
                    <option value="KaiTi">æ¥·ä½“</option>
                    <option value="Lishu">éš¶ä¹¦</option>
                    <option value="Caoshu">è‰ä¹¦</option>
                </select>
                <select id="readingInsightFontSize" onchange="changeFontSizeSelect('readingInsight')">
                    <option value="12px">12px</option>
                    <option value="14px" selected>14px</option>
                    <option value="16px">16px</option>
                    <option value="18px">18px</option>
                    <option value="20px">20px</option>
                </select>
                <input type="color" id="readingInsightColor" onchange="changeTextColor('readingInsight')">
                <button onclick="toggleBold('readingInsight')">B</button>
                <button onclick="toggleUnderline('readingInsight')">UÌ²</button>
            </div>
            <div class="editor" id="readingInsight" contenteditable="true"></div>
            <button onclick="saveContent('readingInsight')">ä¿å­˜</button>
            <button onclick="hideArticle('readingInsight')">éšè—æ–‡ç« </button>
            <div id="readingInsightDisplay"></div>
        </div>

        <div class="column">
            <h2>å­¦ç”Ÿæ–‡ç« </h2>
            <div class="editor-controls">
                <input type="text" id="studentArticleTitle" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜">
                <input type="text" id="studentArticleAuthor" placeholder="è¯·è¾“å…¥æœ¬æ–‡ä½œè€…"> <!-- æ–°å¢ä½œè€…è¾“å…¥æ¡† -->
                <select id="studentArticleFont" onchange="changeFont('studentArticle')">
                    <option value="SimSun">å®‹ä½“</option>
                    <option value="Microsoft YaHei">å¾®è½¯é›…é»‘</option>
                    <option value="SimHei">é»‘ä½“</option>
                    <option value="KaiTi">æ¥·ä½“</option>
                    <option value="Lishu">éš¶ä¹¦</option>
                    <option value="Caoshu">è‰ä¹¦</option>
                </select>
                <select id="studentArticleFontSize" onchange="changeFontSizeSelect('studentArticle')">
                    <option value="12px">12px</option>
                    <option value="14px" selected>14px</option>
                    <option value="16px">16px</option>
                    <option value="18px">18px</option>
                    <option value="20px">20px</option>
                </select>
                <input type="color" id="studentArticleColor" onchange="changeTextColor('studentArticle')">
                <button onclick="toggleBold('studentArticle')">B</button>
                <button onclick="toggleUnderline('studentArticle')">UÌ²</button>
            </div>
            <div class="editor" id="studentArticle" contenteditable="true"></div>
            <button onclick="saveContent('studentArticle')">ä¿å­˜</button>
            <button onclick="hideArticle('studentArticle')">éšè—æ–‡ç« </button>
            <div id="studentArticleDisplay"></div>
        </div>
    </main>
    <script>
        let currentUserRole = 'guest'; // é»˜è®¤èº«ä»½ä¸ºæ¸¸å®¢

        // åˆ‡æ¢èº«ä»½
        function changeUserRole() {
            const roleSelect = document.getElementById('userRole');
            const roleEmoji = document.getElementById('roleEmoji');
            currentUserRole = roleSelect.value;
            roleEmoji.textContent = currentUserRole === 'guest' ? 'ğŸ‘¤' : 'ğŸ‘‘'; // æ›´æ–°è¡¨æƒ…
            updateUIForUserRole();
        }

        // æ ¹æ®èº«ä»½æ›´æ–°UI
        function updateUIForUserRole() {
            const editButtons = document.querySelectorAll('.edit-button');
            const deleteButtons = document.querySelectorAll('.delete-button');
            if (currentUserRole === 'admin') {
                editButtons.forEach(button => button.style.display = 'inline-block');
                deleteButtons.forEach(button => button.style.display = 'inline-block');
            } else {
                editButtons.forEach(button => button.style.display = 'none');
                deleteButtons.forEach(button => button.style.display = 'none');
            }
        }

        // ä¿å­˜æ–‡ç« å†…å®¹
        function saveContent(id) {
            const editor = document.getElementById(id);
            const titleInput = document.getElementById(id + 'Title');
            const authorInput = document.getElementById(id + 'Author');
            const title = titleInput.value;
            const author = authorInput.value;
            const display = document.getElementById(id + 'Display');
            const article = createArticle(title, author, editor.innerHTML, id);

            display.appendChild(article);
            editor.innerHTML = '';
            titleInput.value = '';
            authorInput.value = '';

            // ä¿å­˜æ–‡ç« åˆ°æœ¬åœ°å­˜å‚¨
            saveToLocalStorage(id, title, author, editor.innerHTML);
        }

        // åˆ›å»ºæ–‡ç« 
        function createArticle(title, author, content, id) {
            const article = document.createElement('div');
            article.classList.add('article');
            if (title) {
                const titleElement = document.createElement('h3');
                titleElement.textContent = `${title} - ä½œè€…ï¼š${author}`; // æ˜¾ç¤ºæ ‡é¢˜å’Œä½œè€…
                titleElement.addEventListener('click', function () {
                    const content = this.nextElementSibling;
                    content.style.display = content.style.display === 'none'? 'block' : 'none';
                });
                article.appendChild(titleElement);
            }
            const contentElement = document.createElement('div');
            contentElement.classList.add('article-content');
            contentElement.innerHTML = content;
            article.appendChild(contentElement);

            // æ·»åŠ è¯„è®ºåŒºåŸŸ
            const comments = document.createElement('div');
            comments.classList.add('comments');
            const commentInput = document.createElement('input');
            commentInput.classList.add('comment-input');
            commentInput.placeholder = 'è¯·è¾“å…¥è¯„è®º...';
            const commentButton = document.createElement('button');
            commentButton.textContent = 'æäº¤è¯„è®º';
            commentButton.onclick = function () {
                addComment(comments, commentInput.value);
                commentInput.value = '';
            };
            const hideCommentsButton = document.createElement('button');
            hideCommentsButton.textContent = 'éšè—è¯„è®º';
            hideCommentsButton.onclick = function () {
                toggleComments(comments);
            };
            const commentList = document.createElement('div');
            commentList.classList.add('comment-list');
            comments.appendChild(commentInput);
            comments.appendChild(commentButton);
            comments.appendChild(hideCommentsButton);
            comments.appendChild(commentList);
            article.appendChild(comments);

            // åŠ è½½å·²ä¿å­˜çš„è¯„è®º
            loadComments(commentList, id, title);

            const editButton = document.createElement('button');
            editButton.textContent = 'ä¿®æ”¹';
            editButton.classList.add('edit-button');
            editButton.style.display = currentUserRole === 'admin' ? 'inline-block' : 'none';
            const editor = document.getElementById(id);
            const titleInput = document.getElementById(id + 'Title');
            const authorInput = document.getElementById(id + 'Author');
            editButton.onclick = function () {
                editContent(article, editor, titleInput, authorInput);
            };
            article.appendChild(editButton);

            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'åˆ é™¤';
            deleteButton.classList.add('delete-button');
            deleteButton.style.display = currentUserRole === 'admin' ? 'inline-block' : 'none';
            deleteButton.onclick = function () {
                deleteArticle(article, id);
            };
            article.appendChild(deleteButton);

            return article;
        }

        // æ·»åŠ è¯„è®º
        function addComment(commentList, commentText) {
            if (commentText.trim() === '') return;
            const commentItem = document.createElement('div');
            commentItem.classList.add('comment-item');
            commentItem.textContent = commentText;

            // æ·»åŠ åˆ é™¤è¯„è®ºæŒ‰é’®
            const deleteCommentButton = document.createElement('button');
            deleteCommentButton.textContent = 'åˆ é™¤';
            deleteCommentButton.onclick = function () {
                commentItem.remove();
                removeCommentFromLocalStorage(commentList.id, commentText);
            };
            commentItem.appendChild(deleteCommentButton);

            commentList.appendChild(commentItem);

            // ä¿å­˜è¯„è®ºåˆ°æœ¬åœ°å­˜å‚¨
            saveCommentToLocalStorage(commentList.id, commentText);
        }

        // åŠ è½½è¯„è®º
        function loadComments(commentList, id, title) {
            const savedComments = JSON.parse(localStorage.getItem('comments')) || {};
            const key = `${id}-${title}`;
            if (savedComments[key]) {
                savedComments[key].forEach(comment => {
                    const commentItem = document.createElement('div');
                    commentItem.classList.add('comment-item');
                    commentItem.textContent = comment;

                    // æ·»åŠ åˆ é™¤è¯„è®ºæŒ‰é’®
                    const deleteCommentButton = document.createElement('button');
                    deleteCommentButton.textContent = 'åˆ é™¤';
                    deleteCommentButton.onclick = function () {
                        commentItem.remove();
                        removeCommentFromLocalStorage(commentList.id, comment);
                    };
                    commentItem.appendChild(deleteCommentButton);

                    commentList.appendChild(commentItem);
                });
            }
        }

        // ä¿å­˜è¯„è®ºåˆ°æœ¬åœ°å­˜å‚¨
        function saveCommentToLocalStorage(key, comment) {
            const savedComments = JSON.parse(localStorage.getItem('comments')) || {};
            savedComments[key] = savedComments[key] || [];
            savedComments[key].push(comment);
            localStorage.setItem('comments', JSON.stringify(savedComments));
        }

        // ä»æœ¬åœ°å­˜å‚¨ä¸­åˆ é™¤è¯„è®º
        function removeCommentFromLocalStorage(key, comment) {
            const savedComments = JSON.parse(localStorage.getItem('comments')) || {};
            if (savedComments[key]) {
                savedComments[key] = savedComments[key].filter(c => c !== comment);
                localStorage.setItem('comments', JSON.stringify(savedComments));
            }
        }

        // éšè—æ–‡ç« 
        function hideArticle(id) {
            const display = document.getElementById(id + 'Display');
            const articles = display.getElementsByClassName('article');
            for (let i = 0; i < articles.length; i++) {
                articles[i].style.display = articles[i].style.display === 'none'? 'block' : 'none';
            }
        }

        // åˆ‡æ¢è¯„è®ºçš„æ˜¾ç¤º/éšè—
        function toggleComments(comments) {
            const commentList = comments.querySelector('.comment-list');
            commentList.style.display = commentList.style.display === 'none'? 'block' : 'none';
        }

        // å…¶ä»–å‡½æ•°ä¿æŒä¸å˜
    </script>
</body>

</html>